(window.webpackJsonp=window.webpackJsonp||[]).push([[0,3,4,5,7],{249:function(t,e,r){var content=r(253);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("84c78660",content,!0,{sourceMap:!1})},250:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZmIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCIgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCI+CiAgPHBhdGgKICAgIGQ9Ik0gMTMgMyBDIDcuNDg4OTk3MSAzIDMgNy40ODg5OTcxIDMgMTMgQyAzIDE4LjUxMTAwMyA3LjQ4ODk5NzEgMjMgMTMgMjMgQyAxNS4zOTY1MDggMjMgMTcuNTk3Mzg1IDIyLjE0ODk4NiAxOS4zMjIyNjYgMjAuNzM2MzI4IEwgMjUuMjkyOTY5IDI2LjcwNzAzMSBBIDEuMDAwMSAxLjAwMDEgMCAxIDAgMjYuNzA3MDMxIDI1LjI5Mjk2OSBMIDIwLjczNjMyOCAxOS4zMjIyNjYgQyAyMi4xNDg5ODYgMTcuNTk3Mzg1IDIzIDE1LjM5NjUwOCAyMyAxMyBDIDIzIDcuNDg4OTk3MSAxOC41MTEwMDMgMyAxMyAzIHogTSAxMyA1IEMgMTcuNDMwMTIzIDUgMjEgOC41Njk4Nzc0IDIxIDEzIEMgMjEgMTcuNDMwMTIzIDE3LjQzMDEyMyAyMSAxMyAyMSBDIDguNTY5ODc3NCAyMSA1IDE3LjQzMDEyMyA1IDEzIEMgNSA4LjU2OTg3NzQgOC41Njk4Nzc0IDUgMTMgNSB6IiAvPgogIDwvc3ZnPgo="},251:function(t,e,r){"use strict";r.r(e);var n={name:"Chips",props:{isAvailable:{type:Boolean,default:!0},title:{type:String,default:""}}},c=(r(252),r(43)),component=Object(c.a)(n,(function(){var t=this;return(0,t._self._c)("p",{staticClass:"chips",class:{notAvailavle:!t.isAvailable}},[t._v("\n  "+t._s(t.title)+"\n")])}),[],!1,null,"3b3648b7",null);e.default=component.exports},252:function(t,e,r){"use strict";r(249)},253:function(t,e,r){var n=r(125)(!1);n.push([t.i,'.chips[data-v-3b3648b7]{font-family:"Nunito";font-style:normal;font-weight:500;font-size:14px;line-height:100%;color:#f3f3f3;padding:4px 17px;background:rgba(160,203,92,.3843137255);border-radius:17px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.chips.notAvailavle[data-v-3b3648b7]{background:rgba(209,55,55,.3725490196)}',""]),t.exports=n},254:function(t,e,r){var content=r(260);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("b39dcaae",content,!0,{sourceMap:!1})},255:function(t,e,r){var content=r(262);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("418ff6f0",content,!0,{sourceMap:!1})},256:function(t,e,r){var content=r(264);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("6f070f87",content,!0,{sourceMap:!1})},258:function(t,e,r){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},259:function(t,e,r){"use strict";r(254)},260:function(t,e,r){var n=r(125)(!1);n.push([t.i,".recipe-card[data-v-0657caa3]{transition:.4s ease;border-radius:17px;margin-bottom:16px;max-width:343px;transform-origin:center bottom}.recipe-card.secondaryCard[data-v-0657caa3]{transform-origin:center center}.recipe-card__inner[data-v-0657caa3]{box-shadow:inset 0 0 0 1px #000,0 0 0 1px #000;border-radius:17px;background:rgba(41,41,41,.84);-webkit-backdrop-filter:contrast(23) blur(28px);backdrop-filter:contrast(23) blur(28px);min-height:600px;padding:16px;display:flex;flex-direction:column;height:100%;grid-gap:16px;gap:16px}.recipe-card__img[data-v-0657caa3]{width:311px;height:311px;border-radius:17px;-o-object-fit:cover;object-fit:cover}.recipe-card .chips-container[data-v-0657caa3]{margin-top:auto;display:flex;grid-gap:16px;gap:16px;flex-wrap:wrap}",""]),t.exports=n},261:function(t,e,r){"use strict";r(255)},262:function(t,e,r){var n=r(125),c=r(258),o=r(250),d=n(!1),l=c(o);d.push([t.i,'.search[data-v-170cc91b]{background:linear-gradient(90deg,hsla(0,0%,51.4%,.25),hsla(0,0%,57.6%,.25));-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-radius:17px;display:flex;margin-bottom:16px;transition:all .3s ease 0s;transform:translateY(0);z-index:2005;width:343px;position:fixed;top:16px;left:calc(50% - 171.5px)}.search__input[data-v-170cc91b]{color:#f3f3f3;font-family:"Nunito";font-style:normal;font-weight:500;font-size:14px;line-height:100%;background:transparent;max-width:100%;flex-grow:1;height:40px;border:none;padding-left:16px}.search__btn[data-v-170cc91b]{background:no-repeat url('+l+") 50%/20px;width:40px;height:40px;border:none;flex-shrink:0}",""]),t.exports=d},263:function(t,e,r){"use strict";r(256)},264:function(t,e,r){var n=r(125)(!1);n.push([t.i,".placeholder[data-v-584ad08e]{min-height:343px;width:100%;margin:0 auto;box-shadow:inset 0 0 0 1px #000,0 0 0 1px #000;border-radius:17px;background:rgba(41,41,41,.84);-webkit-backdrop-filter:contrast(23) blur(28px);backdrop-filter:contrast(23) blur(28px);display:flex;flex-direction:column;justify-content:center;align-items:center}.placeholder .h2[data-v-584ad08e]{margin-top:auto}.placeholder .description[data-v-584ad08e]{margin-top:20px;color:#d3d3d3;margin-bottom:-16px}.btn[data-v-584ad08e]{margin-top:auto;border-radius:0 0 17px 17px;width:100%;padding:16px;text-transform:uppercase;color:#000;background:#d3d3d3;border:none}",""]),t.exports=n},268:function(t,e,r){"use strict";r.r(e);r(27);var n=r(251),c={name:"RecipeCard",props:{img:{type:String,default:""},title:{type:String,default:""},secondaryCard:{type:Boolean,default:!1},usedIngredients:{type:Array,default:function(){return[]}},missedIngredients:{type:Array,default:function(){return[]}}},components:{Chips:n.default}},o=(r(259),r(43)),component=Object(o.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"recipe-card",class:{secondaryCard:t.secondaryCard},style:"background: no-repeat url(".concat(t.img,") center/cover;")},[e("div",{staticClass:"recipe-card__inner"},[e("img",{staticClass:"recipe-card__img",attrs:{src:t.img,alt:t.title}}),t._v(" "),e("p",{staticClass:"recipe-card__title p"},[t._v(t._s(t.title))]),t._v(" "),e("div",{staticClass:"chips-container"},[t._l(t.usedIngredients,(function(t){return e("Chips",{key:t.id,attrs:{title:t.name}})})),t._v(" "),t._l(t.missedIngredients,(function(t){return e("Chips",{key:t.id,attrs:{title:t.name,isAvailable:!1}})}))],2)])])}),[],!1,null,"0657caa3",null);e.default=component.exports;installComponents(component,{Chips:r(251).default})},269:function(t,e,r){"use strict";r.r(e);r(26),r(127);var n={name:"UiSearch",data:function(){return{search:"",lastScroll:0,changeScroll:null}},mounted:function(){window.addEventListener("scroll",this.updateScroll)},destroyed:function(){window.removeEventListener("scroll",this.updateScroll)},methods:{updateScroll:function(){var t=window.pageYOffset,header=this.$refs.header;t>80?header.style.transform="translateY(-100%)":t<80&&(header.style.position="absolute",header.style.transform="translateY(0px)"),t>0&&t<this.lastScroll?(header.style.position="fixed",header.style.transform="translateY(0px)",this.changeScroll=!0):this.changeScroll=!1,this.lastScroll=t}}},c=(r(261),r(43)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",{ref:"header",staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search__input",attrs:{type:"text",placeholder:"Type your search"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){return t.$emit("model",t.search)}]}}),t._v(" "),e("button",{staticClass:"search__btn",on:{click:function(e){return t.$emit("search")}}})])}),[],!1,null,"170cc91b",null);e.default=component.exports},270:function(t,e,r){var content=r(276);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("205d7eff",content,!0,{sourceMap:!1})},272:function(t,e,r){"use strict";r.r(e);r(26),r(127);var n=r(10),c=(r(58),r(18),r(128),r(102),r(59),r(268)),o=r(269),d=r(273),l={name:"SearchResults",components:{RecipeCard:c.default,UiSearch:o.default,EmptyPlaceholder:d.default},data:function(){return{recipes:null,cardId:0,search:"",apiKey:"&apiKey=22d37f4ddb3649d1aa1ee372e930b27c",translateApi:"171a5d50ead88020c8a04c3468a822cbd4779d0c640784a1ddacae504ed7147b",cardAnimation:!1,touch:{startX:null,startY:null,x:null,y:null,translate:0},showNextCard:!1,backgroundCardId:1,lastRecipe:!1,lastScrolled:!1}},mounted:function(){var t=this;fetch("/req.json").then((function(t){return t.json()})).then((function(e){return t.recipes=e}))},computed:{queryString:function(){return this.search.split(" ").join(",+")}},methods:{toucStartHandler:function(t){this.touch.startX=t.touches[0].screenX,this.touch.startY=t.touches[0].screenY,document.querySelector("#card").style.transition="none"},toucMoveHandler:function(t){if(!this.touch.x)return this.touch.x=t.touches[0].screenX,void(this.touch.y=t.touches[0].screenY);this.touch.translate+=t.touches[0].screenX-this.touch.x,document.querySelector("#card").style.transform="translateX(".concat(this.touch.translate,"px) rotate(").concat(this.touch.translate/window.innerWidth*.4*70,"deg)"),this.touch.x=t.touches[0].screenX,this.touch.y=t.touches[0].screenY,this.touch.x>this.touch.startX+.2*window.innerWidth||this.touch.x<this.touch.startX-.2*window.innerWidth?this.showNextCard=!0:this.showNextCard=!1},toucEndHandler:function(t){var e=document.querySelector("#card");e.style.transition="0.4s ease",this.touch.x>this.touch.startX+.4*window.innerWidth?(e.style.transform="translateX(100vw)",this.resetCard(e,200)):this.touch.x<this.touch.startX-.4*window.innerWidth?(e.style.transform="translateX(-100vw)",this.resetCard(e,200)):(e.style.transform="translateX(0)",this.showNextCard=!1),this.touch={startX:null,startY:null,x:null,y:null,translate:0}},resetCard:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.cardAnimation=!0,setTimeout((function(){e.cardAnimation=!1,e.recipes.length>e.cardId+1&&(t.style.transition="none"),e.showNextCard=!1,e.recipes.length>e.cardId+2?e.backgroundCardId++:e.lastRecipe=!0,e.recipes.length>e.cardId+1?(e.cardId++,t.style.transform="translateX(0)"):e.lastScrolled=!0}),r)},fetchRecipes:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.translate();case 2:r=e.sent,fetch("https://api.spoonacular.com/recipes/findByIngredients?ingredients=".concat(r+t.apiKey,"&number=20")).then((function(t){return t.json()})).then((function(e){return t.recipes=e}));case 4:case"end":return e.stop()}}),e)})))()},translate:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.next=3,fetch("https://ai-translate.pro/api/".concat(t.translateApi,"/ru-en"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t.search.split(" ").join(",+")})}).then((function(t){return t.json()})).then((function(t){return r=t.result}));case 3:return e.next=5,r;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()}}},h=l,f=(r(275),r(43)),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"container"},[e("UiSearch",{on:{search:function(e){return t.fetchRecipes()},model:function(e){t.search=e}}}),t._v(" "),e("div",{staticClass:"cards-container"},[t.recipes&&!t.lastScrolled?e("RecipeCard",{staticClass:"active-card",class:{show:t.cardAnimation},attrs:{img:t.recipes[t.cardId].image,title:t.recipes[t.cardId].title,usedIngredients:t.recipes[t.cardId].usedIngredients,missedIngredients:t.recipes[t.cardId].missedIngredients,id:"card"},nativeOn:{touchstart:function(e){return t.toucStartHandler(e)},touchmove:function(e){return t.toucMoveHandler(e)},touchend:function(e){return t.toucEndHandler(e)}}}):t._e(),t._v(" "),t.recipes&&!t.lastRecipe?e("RecipeCard",{staticClass:"next-card",class:{show:t.showNextCard},attrs:{img:t.recipes[t.backgroundCardId].image,title:t.recipes[t.backgroundCardId].title,usedIngredients:t.recipes[t.backgroundCardId].usedIngredients,missedIngredients:t.recipes[t.backgroundCardId].missedIngredients,secondaryCard:!0}}):t._e(),t._v(" "),t.lastRecipe?e("EmptyPlaceholder"):t._e()],1)],1)}),[],!1,null,"03427dee",null);e.default=component.exports;installComponents(component,{UiSearch:r(269).default,RecipeCard:r(268).default})},273:function(t,e,r){"use strict";r.r(e);var n={name:"EmptyPlaceholder"},c=(r(263),r(43)),component=Object(c.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder placeholder-empty"},[e("h2",{staticClass:"h2"},[t._v("Ooops..")]),t._v(" "),e("p",{staticClass:"description p"},[t._v("It seems to be the last recipe")]),t._v(" "),e("button",{staticClass:"btn p"},[t._v("find more")])])}],!1,null,"584ad08e",null);e.default=component.exports},275:function(t,e,r){"use strict";r(270)},276:function(t,e,r){var n=r(125)(!1);n.push([t.i,".container[data-v-03427dee]{padding:72px 16px 16px;flex-direction:column;height:100vh;height:-webkit-fill-available}.cards-container[data-v-03427dee],.container[data-v-03427dee]{display:flex;align-items:center}.cards-container[data-v-03427dee]{position:relative;max-width:343px;margin:0 auto;width:100%;min-height:50vh;justify-content:center;height:100%}.active-card[data-v-03427dee]{position:absolute;z-index:1}.next-card[data-v-03427dee]{position:absolute;z-index:0;opacity:.5;transform:scale(.8)}.next-card.show[data-v-03427dee]{opacity:1;transform:scale(1)}",""]),t.exports=n}}]);